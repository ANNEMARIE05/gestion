<div class="sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8">
  <!-- Mobile menu button -->
  <button type="button" class="-m-2.5 p-2.5 text-gray-700 lg:hidden">
    <span class="sr-only">Ouvrir le menu</span>
    <i class="fas fa-bars h-6 w-6" aria-hidden="true"></i>
  </button>

  <!-- Separator -->
  <div class="h-6 w-px bg-gray-200 lg:hidden" aria-hidden="true"></div>

  <div class="flex flex-1 gap-x-4 self-stretch lg:gap-x-6">
    <!-- Search -->
    <form class="relative flex flex-1" action="#" method="GET">
      <label for="search-field" class="sr-only">Rechercher</label>
      <i class="pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400 pl-3 flex items-center" aria-hidden="true">
        <i class="fas fa-search"></i>
      </i>
      <input id="search-field" class="block h-full w-full border-0 py-0 pl-10 pr-0 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm" 
             placeholder="Rechercher..." type="search" name="search">
    </form>
    
    <div class="flex items-center gap-x-4 lg:gap-x-6">
      <!-- Notifications -->
      <button type="button" class="-m-2.5 p-2.5 text-gray-400 hover:text-gray-500">
        <span class="sr-only">Voir les notifications</span>
        <i class="fas fa-bell h-6 w-6" aria-hidden="true"></i>
      </button>

      <!-- Separator -->
      <div class="hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200" aria-hidden="true"></div>

      <!-- Profile dropdown -->
      <div class="relative" (click)="toggleDropdown()">
        <button type="button" class="-m-1.5 flex items-center p-1.5 hover:bg-gray-50 rounded-lg transition-colors duration-200">
          <span class="sr-only">Ouvrir le menu utilisateur</span>
          <img class="h-8 w-8 rounded-full bg-gray-50 ring-2 ring-blue-200" src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80" alt="">
          <span class="hidden lg:flex lg:items-center">
            <span class="ml-4 text-sm font-semibold leading-6 text-gray-900" aria-hidden="true">Tom Cook</span>
            <i class="ml-2 h-5 w-5 text-gray-400 transition-transform duration-200" [class.rotate-180]="isDropdownOpen" aria-hidden="true">
              <i class="fas fa-chevron-down"></i>
            </i>
          </span>
        </button>
        
        <!-- Dropdown menu -->
        <div *ngIf="isDropdownOpen" class="absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-lg bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu">
          <div class="px-4 py-2 border-b border-gray-100">
            <p class="text-sm font-medium text-gray-900">Tom Cook</p>
            <p class="text-xs text-gray-500">tom.cook@entreprise.com</p>
          </div>
          <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-colors duration-200" role="menuitem">
            <i class="fas fa-user mr-3 text-gray-400"></i>
            Mon Profil
          </a>
          <a href="#" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 hover:text-blue-700 transition-colors duration-200" role="menuitem">
            <i class="fas fa-cog mr-3 text-gray-400"></i>
            Paramètres
          </a>
          <div class="border-t border-gray-100"></div>
          <a href="#" (click)="onLogoutClick($event)" class="flex items-center px-4 py-2 text-sm text-red-700 hover:bg-red-50 transition-colors duration-200" role="menuitem">
            <i class="fas fa-sign-out-alt mr-3 text-red-500"></i>
            Déconnexion
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Logout Confirmation Modal -->
<div *ngIf="showLogoutModal" class="modal-overlay" (click)="cancelLogout()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <div class="modal-icon">
        <i class="fas fa-sign-out-alt text-red-600"></i>
      </div>
      <h2 class="modal-title">Déconnexion</h2>
    </div>
    <div class="modal-body">
      <p>Êtes-vous sûr de vouloir vous déconnecter ?</p>
    </div>
    <div class="modal-footer">
      <button type="button" (click)="cancelLogout()" class="modal-button modal-button-secondary">
        Annuler
      </button>
      <button type="button" (click)="confirmLogout()" class="modal-button modal-button-primary">
        Déconnexion
      </button>
    </div>
  </div>
</div>